{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/uni-app/novel/subPackages/readBook/readBook.vue?daff","webpack:///D:/uni-app/novel/subPackages/readBook/readBook.vue?ded0","webpack:///D:/uni-app/novel/subPackages/readBook/readBook.vue?f337","uni-app:///subPackages/readBook/readBook.vue","webpack:///D:/uni-app/novel/subPackages/readBook/readBook.vue?1466","webpack:///D:/uni-app/novel/subPackages/readBook/readBook.vue?a681"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,2G,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACc;;;AAGrE;AAC6K;AAC7K,gBAAgB,uLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAupB,CAAgB,oqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuF3qB;AACA,MADA,kBACA;AACA;AACA;AACA,kBADA;AAEA,wBAFA;AAGA,6BAHA;;AAKA;AACA,kBADA;AAEA,qBAFA;AAGA,0BAHA,EALA;;AAUA;AACA,kBADA;AAEA,wBAFA;AAGA,6BAHA,EAVA,CADA;;;AAiBA,0BAjBA;AAkBA;AACA,mBADA;AAEA,oBAFA;;AAIA;AACA,mBADA;AAEA,qBAFA,EAJA;;AAQA;AACA,mBADA;AAEA,qBAFA,EARA,CAlBA;;;AA+BA,2BA/BA;AAgCA,qBAhCA;AAiCA,qBAjCA;AAkCA,sBAlCA;AAmCA,cAnCA;AAoCA,mBApCA;AAqCA,uBArCA;AAsCA,iDAtCA;AAuCA,iBAvCA;AAwCA,oBAxCA;AAyCA,cAzCA;AA0CA,gBA1CA;AA2CA,cA3CA;AA4CA,sBA5CA;AA6CA,yBA7CA;AA8CA,mBA9CA;AA+CA,mBA/CA;AAgDA,wBAhDA;AAiDA,0BAjDA;AAkDA,kBAlDA;AAmDA,wBAnDA;;AAqDA,GAvDA;AAwDA,QAxDA,kBAwDA,MAxDA,EAwDA;AACA;AACA;AACA;AACA;AACA;AACA,KAFA,EAEA,IAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA;AACA,GA5EA;AA6EA;AACA;AACA,cAFA,sBAEA,IAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA;AACA,kBADA;AAEA,iCAFA;AAGA,mCAHA;;AAKA;AACA,KAtBA;AAuBA;AACA,aAxBA,uBAwBA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA,KAnCA;AAoCA;AACA,YArCA,sBAqCA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA,KAhDA;AAiDA;AACA,gBAlDA,0BAkDA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA,qCADA;AAEA,oCAFA;AAGA,+BAHA;AAIA,oCAJA;AAKA,kCALA;;AAOA;AACA;AACA;AACA,KAnEA;AAoEA;AACA,WArEA,mBAqEA,EArEA,EAqEA;;;AAGA,oDAHA,8CAEA,IAFA,wBAEA,IAFA;AAIA;AACA,yBALA,GAKA,mDALA;AAMA;AACA;AACA;AACA;AACA;AACA,iBAXA;AAYA,KAjFA;AAkFA;AACA,kBAnFA,0BAmFA,EAnFA,EAmFA;;;AAGA,uEAHA,gDAEA,IAFA,yBAEA,IAFA;AAIA;AACA,kEALA;AAMA,KAzFA;AA0FA;AACA,mBA3FA,2BA2FA,EA3FA,EA2FA;;;AAGA,mFAHA,gDAEA,IAFA,yBAEA,IAFA;AAIA;AACA;AACA,sCANA;AAOA,KAlGA;AAmGA;AACA,UApGA,oBAoGA;AACA;AACA,KAtGA;AAuGA;AACA,YAxGA,sBAwGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA;AACA,KAtHA;AAuHA;AACA,WAxHA,qBAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA,KAtIA;AAuIA;AACA,gBAxIA,0BAwIA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,KA/IA;AAgJA;AACA,kBAjJA,4BAiJA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,KAvJA;AAwJA;AACA,YAzJA,sBAyJA;AACA;AACA;AACA,KA5JA;AA6JA;AACA,aA9JA,uBA8JA;AACA;AACA;AACA,gBADA;;AAGA,KAnKA;AAoKA,eApKA,yBAoKA;AACA;AACA;AACA;AACA,mCADA;AAEA,kBAFA;AAGA,yBAHA;AAIA,6BAJA;;AAMA;AACA,KA9KA;AA+KA;AACA,oBAhLA,4BAgLA,KAhLA,EAgLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEADA,CACA;AACA,WAFA,EAEA,IAFA;AAGA;AACA;AACA;AACA,KA7LA;AA8LA;AACA,kBA/LA,0BA+LA,IA/LA,EA+LA;AACA,oCADA;AAEA;AACA,kGADA,GAFA,yGAEA,GAFA,0BAEA,GAFA;;AAKA;AACA;AACA,sCAPA;AAQA,KAvMA,EA7EA;;AAsRA,SAtRA,qBAsRA;AACA;AACA;AACA;AACA,KAFA,EAEA,IAFA;AAGA,GA3RA,E;;;;;;;;;;;;;ACvFA;AAAA;AAAA;AAAA;AAA0uC,CAAgB,2rCAAG,EAAC,C;;;;;;;;;;;ACA9vC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"subPackages/readBook/readBook.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subPackages/readBook/readBook.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./readBook.vue?vue&type=template&id=75f9f4af&\"\nvar renderjs\nimport script from \"./readBook.vue?vue&type=script&lang=js&\"\nexport * from \"./readBook.vue?vue&type=script&lang=js&\"\nimport style0 from \"./readBook.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subPackages/readBook/readBook.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./readBook.vue?vue&type=template&id=75f9f4af&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.bookChaptersBody(_vm.contentText.chapter.cpContent)\n  var m1 = _vm.bookChaptersBody(_vm.contentText.chapter.cpContent)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./readBook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./readBook.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"root\" :style=\"{color:fontColor,background:background}\">\r\n\t\t<view class=\"book-page\">\r\n\t\t\t<view class=\"left\" @click=\"backward\"></view>\r\n\t\t\t<view class=\"center\" @click=\"exhale\"></view>\r\n\t\t\t<view class=\"right\" @click=\"forward\"></view>\r\n\t\t</view>\r\n\t\t<view class=\"list-content\" v-if=\"isListShow\">\r\n\t\t\t<view class=\"list-content-item\" v-for=\"item in bookChapter.chapters\" :key=\"item.id\"\r\n\t\t\t\t@click=\"getBookcontent(item.link)\">\r\n\t\t\t\t{{item.title}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"contenText\">\r\n\t\t\t<view class=\"contenText-title\" v-show=\"bigflag\">\r\n\t\t\t\t{{contentText.chapter.title}}\r\n\t\t\t</view>\r\n\t\t\t<view\r\n\t\t\tclass=\"contenTextData\"\r\n\t\t\t:style=\"{'font-size':size +'px'}\"\r\n\t\t\t>\r\n\t\t\t\t<rich-text\r\n\t\t\t\tclass=\"rich-text\"\r\n\t\t\t\t:nodes=\"bookChaptersBody(contentText.chapter.cpContent)\"\r\n\t\t\t\t>\r\n\t\t\t\t</rich-text>\r\n\t\t\t\t<rich-text\r\n\t\t\t\tclass=\"rich-text-data\"\r\n\t\t\t\t:style=\"{'transform': `translateX(${-leftX}px)`,'transition':undue}\"\r\n\t\t\t\t:nodes=\"bookChaptersBody(contentText.chapter.cpContent)\"\r\n\t\t\t\t>\r\n\t\t\t\t</rich-text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"mint-header\" v-if=\"isShow\">\r\n\t\t\t<view class=\"header-l\" @click=\"tofromone\">\r\n\t\t\t\t<view class=\"span\"></view> 返回\r\n\t\t\t</view>\r\n\t\t\t<view class=\"header-title\">\r\n\t\t\t\t{{bookChapter.bookName}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"header-r\"></view>\r\n\t\t</view>\r\n\t\t<view class=\"mint-footer\" v-if=\"isShow\">\r\n\t\t\t<view class=\"footer-text footer\">\r\n\t\t\t\t<view class=\"footer-item\" @click=\"fonSizeXl\">\r\n\t\t\t\t\tAa+\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"footer-item\" @click=\"fonSizeL\">\r\n\t\t\t\t\tAa-\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"footer-style footer\">\r\n\t\t\t\t<view\r\n\t\t\t\tclass=\"footer-item\" \r\n\t\t\t\tv-for=\"item in footerStyle\" \r\n\t\t\t\t:key=\"item.style\" \r\n\t\t\t\t:class=\"{'color':item.isShow}\"\r\n\t\t\t\t@click=\"switchBack(item.style)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{{item.style}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"footer-info footer\">\r\n\t\t\t\t<view class=\"footer-item\" @click=\"addBookshelf\">\r\n\t\t\t\t\t{{isBookShell ? \"移出书架\" : \"加入书架\"}}\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"footer-item\">\r\n\t\t\t\t\t更换书源\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"footer\">\r\n\t\t\t\t<view class=\"footer-item\" @click=\"getUpChapter\">\r\n\t\t\t\t\t上一章\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"footer-item\" @click=\"listshow\">\r\n\t\t\t\t\t目录\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"footer-item\" @click=\"getDownChapter\">\r\n\t\t\t\t\t下一章\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpattern: [{\r\n\t\t\t\t\t\titem: '默认',\r\n\t\t\t\t\t\tcolor: '#5c5d58',\r\n\t\t\t\t\t\tbackground: '#eee6dd'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem: '夜间',\r\n\t\t\t\t\t\tcolor: '#666',\r\n\t\t\t\t\t\tbackground: '#000'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem: '护眼',\r\n\t\t\t\t\t\tcolor: '#5c5d58',\r\n\t\t\t\t\t\tbackground: '#c8e8c8'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tfontColor: '#5c5d58',\r\n\t\t\t\tfooterStyle: [{\r\n\t\t\t\t\t\tstyle: \"默认\",\r\n\t\t\t\t\t\tisShow: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstyle: \"夜间\",\r\n\t\t\t\t\t\tisShow: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstyle: \"护眼\",\r\n\t\t\t\t\t\tisShow: false\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tbackground: '#eee6dd',\r\n\t\t\t\tbookSources: [],\r\n\t\t\t\tbookChapter: {},\r\n\t\t\t\tcolor: '#5c5d58',\r\n\t\t\t\tsize: 12,\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tisListShow: false,\r\n\t\t\t\tcontentText: {chapter:{cpContent:''}},\r\n\t\t\t\tflag:false,\r\n\t\t\t\tbigflag:false,\r\n\t\t\t\tleftX:0,\r\n\t\t\t\tnumPage:0,\r\n\t\t\t\tdataH:0,\r\n\t\t\t\tisArticle:false,\r\n\t\t\t\tholderdataH:\"92vh\",\r\n\t\t\t\tnumberPage:2,\r\n\t\t\t\tundue:\"0.4s\",\r\n\t\t\t\tdefaultAddress:'',\r\n\t\t\t\tfromBookInfoLink:'',\r\n\t\t\t\tbookInfo:'',\r\n\t\t\t\tisBookShell:false\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthis.getbook(option.id)\r\n\t\t\tthis.getbookSources(option.id)\r\n\t\t\tconst query = uni.createSelectorQuery().in(this)\r\n\t\t\tquery.select(\".contenTextData\").boundingClientRect(data=>{\r\n\t\t\t\tthis.dataH = Math.floor(data.height)\r\n\t\t\t}).exec()\r\n\t\t\tlet bookStyle = JSON.parse(uni.getStorageSync(\"bookStyle\") || \"{}\")\r\n\t\t\tlet fontSize = JSON.parse(uni.getStorageSync(\"fontSize\") || \"{}\")\r\n\t\t\tthis.fontColor = bookStyle.fontColor\r\n\t\t\tthis.background = bookStyle.background\r\n\t\t\tthis.size = fontSize.size\r\n\t\t\tif(this.background){\r\n\t\t\t\tthis.footerStyle.forEach(v=>{\r\n\t\t\t\t\tv.isShow = false\r\n\t\t\t\t\tif(v.style == bookStyle.item){\r\n\t\t\t\t\t\tv.isShow = true\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//切换背景\r\n\t\t\tswitchBack(item){\r\n\t\t\t\tlet localShelf = JSON.parse(uni.getStorageSync(\"bookStyle\") || \"{}\")\r\n\t\t\t\tthis.footerStyle.forEach(v=>{\r\n\t\t\t\t\tv.isShow = false\r\n\t\t\t\t\tif(v.style == item){\r\n\t\t\t\t\t\tv.isShow = true\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.pattern.forEach(v=>{\r\n\t\t\t\t\tif(v.item == item){\r\n\t\t\t\t\t\tthis.fontColor = v.color\r\n\t\t\t\t\t\tthis.background = v.background\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tlocalShelf = {\r\n\t\t\t\t\titem,\r\n\t\t\t\t\tfontColor:this.fontColor,\r\n\t\t\t\t\tbackground:this.background\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync(\"bookStyle\",JSON.stringify(localShelf))\r\n\t\t\t},\r\n\t\t\t//字体放大\r\n\t\t\tfonSizeXl(){\r\n\t\t\t\tlet localShelf = JSON.parse(uni.getStorageSync(\"fontSize\") || \"{}\")\r\n\t\t\t\tif(this.size >= 15){\r\n\t\t\t\t\tthis.size = 15\r\n\t\t\t\t}else{\r\n\t\t\t\t\t++this.size\r\n\t\t\t\t}\r\n\t\t\t\tlocalShelf = {\r\n\t\t\t\t\tsize:this.size\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync(\"fontSize\",JSON.stringify(localShelf))\r\n\t\t\t},\r\n\t\t\t//字体变小\r\n\t\t\tfonSizeL(){\r\n\t\t\t\tlet localShelf = JSON.parse(uni.getStorageSync(\"fontSize\") || \"{}\")\r\n\t\t\t\tif(this.size <= 12){\r\n\t\t\t\t\tthis.size = 12\r\n\t\t\t\t}else{\r\n\t\t\t\t\t--this.size\r\n\t\t\t\t}\r\n\t\t\t\tlocalShelf = {\r\n\t\t\t\t\tsize:this.size\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync(\"fontSize\",JSON.stringify(localShelf))\r\n\t\t\t},\r\n\t\t\t//加入书架\r\n\t\t\taddBookshelf(){\r\n\t\t\t\tlet localShelf = JSON.parse(uni.getStorageSync(\"bookshelf\") || \"{}\")\r\n\t\t\t\tif(this.isBookShell){\r\n\t\t\t\t\tdelete localShelf[this.bookInfo._id];\r\n\t\t\t\t\tuni.setStorageSync(\"bookshelf\",JSON.stringify(localShelf))\r\n\t\t\t\t\tthis.isBookShell = !this.isBookShell\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlocalShelf[this.bookInfo._id] = {\r\n\t\t\t\t\t\t...localShelf[this.bookInfo._id],\r\n\t\t\t\t\t\tcover:this.bookInfo.cover,\r\n\t\t\t\t\t\tid:this.bookInfo._id,\r\n\t\t\t\t\t\ttitle:this.bookInfo.title,\r\n\t\t\t\t\t\tisAdd:!this.isBookShell\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.setStorageSync(\"bookshelf\",JSON.stringify(localShelf))\r\n\t\t\t\t\tthis.isBookShell = !this.isBookShell\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取书籍信息\r\n\t\t\tasync getbook(id) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await uni.$http.get(`/book/${id}`)\r\n\t\t\t\tthis.bookInfo = data\r\n\t\t\t\tlet bookshelf = JSON.parse(uni.getStorageSync(\"bookshelf\") || \"{}\")\r\n\t\t\t\tif(bookshelf[this.bookInfo._id]){\r\n\t\t\t\t\tthis.numPage = bookshelf[this.bookInfo._id].numPage\r\n\t\t\t\t\tthis.leftX = bookshelf[this.bookInfo._id].leftX\r\n\t\t\t\t\tthis.fromBookInfoLink = bookshelf[this.bookInfo._id].link\r\n\t\t\t\t\tthis.isBookShell = bookshelf[this.bookInfo._id].isAdd\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取书籍源\r\n\t\t\tasync getbookSources(id) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await uni.$http.get(`/atoc/?view=summary&book=${id}`)\r\n\t\t\t\tthis.bookSources = data\r\n\t\t\t\tthis.getBookChapters(this.bookSources[0]._id)\r\n\t\t\t},\r\n\t\t\t//获取书籍章节(根据书籍源获取章节)\r\n\t\t\tasync getBookChapters(id) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await uni.$http.get(`/btoc/${id}?view=chapters&channel=mweb`)\r\n\t\t\t\tthis.bookChapter = data\r\n\t\t\t\tthis.getBookcontent(this.fromBookInfoLink ? this.fromBookInfoLink : this.bookChapter.chapters[0].link)\r\n\t\t\t\tthis.bigflag = true\r\n\t\t\t},\r\n\t\t\t//判断是否渲染\r\n\t\t\texhale() {\r\n\t\t\t\tthis.isShow = this.isShow ? false : true\r\n\t\t\t},\r\n\t\t\t//获取上一章\r\n\t\t\tbackward() {\r\n\t\t\t\tif (this.isShow) return this.isShow = false\r\n\t\t\t\tif(this.numPage <= 0 ){\r\n\t\t\t\t\tif(this.contentText.chapter.order == 1) return uni.$showMsg(\"前面没有章节了\");\r\n\t\t\t\t\tthis.undue = \"0s\"\r\n\t\t\t\t\tlet link = this.bookChapter.chapters[this.contentText.chapter.order - 2].link\r\n\t\t\t\t\tthis.getBookcontent(link)\r\n\t\t\t\t\tthis.numPage = this.numberPage\r\n\t\t\t\t\tthis.leftX = this.numberPage * this.holderdataH\r\n\t\t\t\t}else{\r\n\t\t\t\t\t--this.numPage\r\n\t\t\t\t\tthis.leftX = this.holderdataH * this.numPage\r\n\t\t\t\t}\r\n\t\t\t\tthis.getBookInfo()\r\n\t\t\t},\r\n\t\t\t//获取下一章\r\n\t\t\tforward() {\r\n\t\t\t\tif (this.isShow) return this.isShow = false\r\n\t\t\t\tif (this.isListShow) return this.isListShow = false\r\n\t\t\t\tif(this.numberPage == this.numPage){\r\n\t\t\t\t\tthis.undue = \"0s\"\r\n\t\t\t\t\tlet link = this.bookChapter.chapters[this.contentText.chapter.order].link\r\n\t\t\t\t\tthis.getBookcontent(link)\r\n\t\t\t\t\tthis.numPage = 0,\r\n\t\t\t\t\tthis.leftX = 0\r\n\t\t\t\t}else{\r\n\t\t\t\t\t++this.numPage\r\n\t\t\t\t\tthis.leftX = this.holderdataH * this.numPage\r\n\t\t\t\t}\r\n\t\t\t\tthis.getBookInfo()\r\n\t\t\t},\r\n\t\t\t//切换上一章\r\n\t\t\tgetUpChapter(){\r\n\t\t\t\tif(this.contentText.chapter.order == 1) return uni.$showMsg(\"前面没有章节了\");\r\n\t\t\t\tthis.undue = \"0s\"\r\n\t\t\t\tlet link = this.bookChapter.chapters[this.contentText.chapter.order-2].link\r\n\t\t\t\tthis.getBookcontent(link)\r\n\t\t\t\tthis.numPage = 0,\r\n\t\t\t\tthis.leftX = 0\r\n\t\t\t},\r\n\t\t\t//切换下一章\r\n\t\t\tgetDownChapter(){\r\n\t\t\t\tthis.undue = \"0s\"\r\n\t\t\t\tlet link = this.bookChapter.chapters[this.contentText.chapter.order].link\r\n\t\t\t\tthis.getBookcontent(link)\r\n\t\t\t\tthis.numPage = 0,\r\n\t\t\t\tthis.leftX = 0\r\n\t\t\t},\r\n\t\t\t//呼出目录\r\n\t\t\tlistshow() {\r\n\t\t\t\tthis.isListShow = this.isListShow ? false : true\r\n\t\t\t\tif (this.isShow) return this.isShow = false\r\n\t\t\t},\r\n\t\t\t//后退一下\r\n\t\t\ttofromone() {\r\n\t\t\t\tthis.getBookInfo()\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetBookInfo(){\r\n\t\t\t\tlet link = this.bookChapter.chapters[this.contentText.chapter.order - 1].link\r\n\t\t\t\tlet localShelf = JSON.parse(uni.getStorageSync(\"bookshelf\") || \"{}\")\r\n\t\t\t\tlocalShelf[this.bookInfo._id] = {\r\n\t\t\t\t\t...localShelf[this.bookInfo._id],\r\n\t\t\t\t\tlink,\r\n\t\t\t\t\tleftX:this.leftX,\r\n\t\t\t\t\tnumPage:this.numPage\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync(\"bookshelf\",JSON.stringify(localShelf))\r\n\t\t\t},\r\n\t\t\t//处理章节内容数据\r\n\t\t\tbookChaptersBody(books) {\r\n\t\t\t\tif (books) {\r\n\t\t\t\t\tlet c = /[\\u4E00-\\u9FA5\\uF900-\\uFA2D]/g;\r\n\t\t\t\t\tlet _book = JSON.stringify(books).replace(/^\"|\"$/g, '');\r\n\t\t\t\t\tif (c.test(_book)) {\r\n\t\t\t\t\t\t_book = '<p class = \"text\">' + _book.replace(/\\s*/g, '').replace(/\\\\n/g, '</p><p class = \"text\">') + '</p>';\r\n\t\t\t\t\t\tconst query = uni.createSelectorQuery().in(this)\r\n\t\t\t\t\t\tquery.select(\".rich-text\").boundingClientRect(data=>{\r\n\t\t\t\t\t\t\tthis.numberPage =  Math.floor(data.height / this.dataH)//计算页数\r\n\t\t\t\t\t\t}).exec()\r\n\t\t\t\t\t\treturn _book\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取章节内容\r\n\t\t\tasync getBookcontent(link) {\r\n\t\t\t\tthis.flag = false\r\n\t\t\t\tconst [err, res] = await uni.request({\r\n\t\t\t\t\turl: `http://localhost:8081/content/chapter/${encodeURIComponent(link)}`,\r\n\t\t\t\t})\r\n\t\t\t\tthis.contentText = res.data\r\n\t\t\t\tthis.flag = true\r\n\t\t\t\tthis.undue = \"0.4s\"\r\n\t\t\t},\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tconst query = uni.createSelectorQuery().in(this)\r\n\t\t\tquery.selectViewport().boundingClientRect(data=>{\r\n\t\t\t\tthis.holderdataH = data.width\r\n\t\t\t}).exec()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.root {\r\n\t\tmin-height: 100vh;\r\n\t\tposition: relative;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tborder: 1px solid transparent;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.mint-header {\r\n\t\t\theight: 40px;\r\n\t\t\tposition: fixed;\r\n\t\t\tz-index: 2;\r\n\t\t\ttop: 20px;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-size: 12px;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.8);\r\n\t\t\tposition: relative;\r\n\t\t\tline-height: 40px;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-around;\r\n\r\n\t\t\t.header-l {\r\n\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t.span {\r\n\t\t\t\t\tleft: -40%;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tborder-top: 1px solid;\r\n\t\t\t\t\tborder-left: 1px solid;\r\n\t\t\t\t\theight: 5px;\r\n\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\ttransform: translateY(-50%) rotate(-45deg);\r\n\t\t\t\t\twidth: 5px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.mint-footer {\r\n\t\t\tposition: fixed;\r\n\t\t\tpadding: 10px;\r\n\t\t\tz-index: 2;\r\n\t\t\tbottom: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.8);\r\n\r\n\t\t\t.footer-style {\r\n\t\t\t\t.color {\r\n\t\t\t\t\tborder: 1px solid #409eff;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.footer {\r\n\t\t\t\tmargin-top: 10px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\r\n\t\t\t.footer-item {\r\n\t\t\t\tmargin-right: 5px;\r\n\t\t\t\twidth: 100px;\r\n\t\t\t\tline-height: 30px;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\theight: 30px;\r\n\t\t\t\tborder-radius: 5px;\r\n\t\t\t\tborder: 1px solid #fff;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.book-page {\r\n\t\t\tposition: absolute;\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tz-index: 1;\r\n\t\t\theight: 100%;\r\n\t\t\tmin-height: 100vh;\r\n\r\n\t\t\t.left {\r\n\t\t\t\twidth: 30%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.center {\r\n\t\t\t\twidth: 60%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\twidth: 30%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.list-content {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\theight: 92vh;\r\n\t\t\tz-index: 3;\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 0;\r\n\t\t\twidth: 70%;\r\n\t\t\toverflow: auto;\r\n\t\t\toverflow-y: auto;\r\n\r\n\t\t\t.list-content-item {\r\n\t\t\t\tline-height: 2rem;\r\n\t\t\t\tmargin-left: 1rem;\r\n\t\t\t\tborder-bottom: 1px solid #e0e0e0;\r\n\t\t\t\theight: 2rem;\r\n\t\t\t\tfont-size: 12px;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.contenText {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 92vh;\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 0;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tfont-size: 12px;\r\n\t\t\t.contenTextData{\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\twidth: 100%\t;\r\n\t\t\t\theight: 88vh;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\ttext-indent: 1.5em;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tline-height: 26px;\r\n\t\t\t\t.rich-text{\n\t\t\t\t\twidth: 97%;\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft: 0;\r\n\t\t\t\t\tz-index: -1;\r\n\t\t\t\t\topacity: 0;\n\t\t\t\t\tpadding: 0 10px;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\ttext-indent: 1.5em;\r\n\t\t\t\t\t.text{\r\n\t\t\t\t\t\tborder: 1px solid transparent;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.rich-text-data{\r\n\t\t\t\t\twidth: 97%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tcolumns: calc(100vw - 32px) 1;\r\n\t\t\t\t\tcolumn-gap: 16px; \r\n\t\t\t\t\tleft: 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./readBook.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./readBook.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1650760763374\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}